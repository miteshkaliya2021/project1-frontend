{"ast":null,"code":"var _jsxFileName = \"/home/mitesh/Desktop/workspace/project1/src/components/Login.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { setUserSession } from \"../utils/Common\";\nimport { GoogleLogin } from \"react-google-login\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const username = useFormInput(\"\");\n  const password = useFormInput(\"\");\n  const [error, setError] = useState(null);\n\n  const handleLogin = async () => {\n    setError(null);\n    setLoading(true);\n\n    try {\n      const response = await axios.post(\"http://localhost:5000/users/signin\", {\n        username: username.value,\n        password: password.value\n      });\n      setLoading(false);\n      setUserSession(response.data.token, response.data.user);\n      props.history.push(\"/dashboard\");\n      setLoading(false);\n    } catch (error) {\n      if (error.response.status === 401) setError(error.response.data.message);else setError(\"Something went wrong. Please try again later.\");\n    }\n  };\n\n  const responseGoogle = response => {\n    console.log(response);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Login\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Username\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        ...username,\n        autoComplete: \"new-password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      children: [\"Password\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        ...password,\n        autoComplete: \"new-password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"small\", {\n        style: {\n          color: \"red\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"button\",\n      value: loading ? \"Loading...\" : \"Login\",\n      onClick: handleLogin,\n      disabled: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GoogleLogin, {\n      clientId: \"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com\",\n      buttonText: \"Login\",\n      onSuccess: responseGoogle,\n      onFailure: responseGoogle,\n      cookiePolicy: \"single_host_origin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), \",\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"1Vah83IMZm1r+aAd5ALiil9JZfk=\", false, function () {\n  return [useFormInput, useFormInput];\n});\n\n_c = Login;\n\nconst useFormInput = initialValue => {\n  _s2();\n\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  };\n\n  return {\n    value,\n    onChange: handleChange\n  };\n};\n\n_s2(useFormInput, \"L08zUdRTae9t+nWvf9xbU6NcRrM=\");\n\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/mitesh/Desktop/workspace/project1/src/components/Login.js"],"names":["React","useState","axios","setUserSession","GoogleLogin","Login","props","loading","setLoading","username","useFormInput","password","error","setError","handleLogin","response","post","value","data","token","user","history","push","status","message","responseGoogle","console","log","marginTop","color","initialValue","setValue","handleChange","e","target","onChange"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { setUserSession } from \"../utils/Common\";\nimport { GoogleLogin } from \"react-google-login\";\n\nfunction Login(props) {\n  const [loading, setLoading] = useState(false);\n  const username = useFormInput(\"\");\n  const password = useFormInput(\"\");\n  const [error, setError] = useState(null);\n\n  const handleLogin = async () => {\n    setError(null);\n    setLoading(true);\n    try {\n      const response = await axios.post(\"http://localhost:5000/users/signin\", {\n        username: username.value,\n        password: password.value,\n      });\n      setLoading(false);\n      setUserSession(response.data.token, response.data.user);\n      props.history.push(\"/dashboard\");\n      setLoading(false);\n    } catch (error) {\n      if (error.response.status === 401) setError(error.response.data.message);\n      else setError(\"Something went wrong. Please try again later.\");\n    }\n  };\n  const responseGoogle = (response) => {\n    console.log(response);\n  };\n\n  return (\n    <div>\n      Login\n      <br />\n      <br />\n      <div>\n        Username\n        <br />\n        <input type=\"text\" {...username} autoComplete=\"new-password\" />\n      </div>\n      <div style={{ marginTop: 10 }}>\n        Password\n        <br />\n        <input type=\"password\" {...password} autoComplete=\"new-password\" />\n      </div>\n      {error && (\n        <>\n          <small style={{ color: \"red\" }}>{error}</small>\n          <br />\n        </>\n      )}\n      <br />\n      <input\n        type=\"button\"\n        value={loading ? \"Loading...\" : \"Login\"}\n        onClick={handleLogin}\n        disabled={loading}\n      />\n      <br />\n      <br />\n      <br />\n      <GoogleLogin\n        clientId=\"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com\"\n        buttonText=\"Login\"\n        onSuccess={responseGoogle}\n        onFailure={responseGoogle}\n        cookiePolicy={\"single_host_origin\"}\n      />\n      ,\n    </div>\n  );\n}\n\nconst useFormInput = (initialValue) => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = (e) => {\n    setValue(e.target.value);\n  };\n  return {\n    value,\n    onChange: handleChange,\n  };\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}